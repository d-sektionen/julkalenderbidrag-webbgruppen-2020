export function Enemy(ctx, width, height) {

    this.x;
    this.y;
    this.radius = 50;
    // delta x and y, the x and y pixels that the enemy should move
    this.dx = 1;
    this.dy = 1;
    this.velocity = 2;



    this.pickLocation = () => {
        var rnd = Math.floor(Math.random() * 4);
        switch (rnd)Â {
            case 0:
                this.x = 0;
                this.y = Math.random() * height;
                break;
            case 1:
                this.x = width;
                this.y = Math.random() * height;
                break;
            case 2:
                this.x = Math.random() * width;
                this.y = 0;
                break;
            case 3:
                this.x = Math.random() * width;
                this.y = height;
                break;
        }
        //this.x = Math.floor(this.x) - this.radius / 2;
        //this.y = Math.floor(this.y) - this.radius / 2;
        //console.log("Spawned enemy at", this.x, this.y);
    }

    this.getAngle = (xBase, yBase, xTarget, yTarget) => {
        const x = xTarget - xBase;
        const y = yTarget - yBase;
        const angle = Math.atan2(x / y);
        return Math.atan2(x, y);
    }

    this.pickDirection = () => {
        var angle = this.getAngle(this.x, this.y, width/2, height/2);

        this.dx = Math.sin(angle);
        this.dy = Math.cos(angle);
    }

    
    this.draw = () => 
    {
        ctx.fillStyle = "red";
        ctx.fillRect(this.x - this.radius/2, this.y - this.radius/2, this.radius, this.radius);
    }
    
    this.move = () =>
    {
        this.x += this.dx * this.velocity;
        this.y += this.dy * this.velocity;
    }


    this.getLocation = () => 
    {
        return {
            "x": this.x, 
            "y": this.y
        }
    }


    this.inBounds = () => {
        return !(
          this.x < -this.radius / 2 ||
          this.x > width ||
          this.y < -this.radius / 2 ||
          this.y > height
        );
    }


    this.pickLocation();
    this.pickDirection();
    this.draw();


    //console.log(this.getLocation());

}

// https://www.youtube.com/watch?v=21eSpMtJwrc&feature=youtu.be


// https://i.imgur.com/KVIaLvG.png

























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































